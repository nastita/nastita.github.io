---
import content from '../../content.json';
const { technologies } = content;
---

<section id='skills' class='w-full py-24 md:py-32 bg-base-100'>
  <div class='container mx-auto px-6 lg:px-8'>
    <div class='text-center max-w-3xl mx-auto mb-16 md:mb-24'>
      <p
        class='text-sm font-semibold uppercase tracking-wider text-base-content/70 mb-4 fade-up'
      >
        Expertise
      </p>
      <h2
        class='text-4xl md:text-5xl font-bold tracking-tight mb-8 fade-up text-base-content'
      >
        Technical Skills
      </h2>
      <p class='text-lg text-base-content/80 fade-up stagger-1'>
        I love to learn new things and take on new challenges. These are some of
        the technologies I have used through my professional career.
      </p>
    </div>

    <div
      class='opacity-0 translate-y-8 transition-all duration-600 delay-300 ease-out'
    >
      <div
        class='flex relative items-center overflow-hidden whitespace-nowrap gap-4 px-4'
        id='tech-loop'
      >
        {
          technologies.map((tech) => (
            <div class='relative flex justify-center items-center shrink-0 gap-2 bg-base-content text-black px-4 py-2 rounded-full'>
              <img
                src={tech.image}
                alt={tech.name}
                class='w-6 h-6 object-contain'
              />
              <span class='font-medium'>{tech.name}</span>
            </div>
          ))
        }
      </div>
    </div>
  </div>
</section>

<!-- Plain browser script for GSAP horizontal loop -->
<script>
  import { horizontalLoop } from '../scripts/horizontalLoop';

  var scroller = document.getElementById('tech-loop');
  if (scroller) {
    var items = scroller.children;
    horizontalLoop(items, {
      speed: 0.8,
      paused: false,
      repeat: -1,
      paddingRight: 16, // This adds a gap equivalent to the gap-4 class (16px)
    });
  }
</script>
